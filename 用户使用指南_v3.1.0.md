# 🎈 热气球游戏 - 用户使用指南 v3.1.0

## 📋 目录
1. [新功能概览](#新功能概览)
2. [用户注册与登录](#用户注册与登录)
3. [用户设置](#用户设置)
4. [超级管理员功能](#超级管理员功能)
5. [背景音乐控制](#背景音乐控制)
6. [游戏玩法](#游戏玩法)
7. [常见问题](#常见问题)

---

## 🆕 新功能概览

### v3.1.0 更新内容
1. **用户设置系统** - 用户可以修改个人信息
2. **超级管理员权限** - 只有超级管理员能看到管理员设置
3. **背景音乐** - 添加了超级玛丽主题背景音乐

### 关键改进
- ⚙️ 新增"用户设置"按钮，替代原有的"更改名字"按钮
- 🔧 "管理员设置"仅对超级管理员可见
- 🎵 背景音乐自动播放（支持手动控制）
- 📝 用户可以修改密码和个人资料
- 👑 超级管理员无需二次验证即可进入管理面板

---

## 👤 用户注册与登录

### 注册新账号

1. **进入游戏页面**
   ```
   访问：https://my-balloon-game.vercel.app/
   ```

2. **点击"注册新账号"按钮**
   - 在登录界面，点击绿色的"📝 注册新账号"按钮

3. **填写注册信息**
   
   **必填项：**
   - 用户名（2-20个字符，唯一）
   - 密码（至少6个字符）
   - 确认密码（必须与密码一致）
   
   **可选项：**
   - 国家（下拉选择）
   - 地区/城市
   - 性别（男/女/保密）
   - 年龄（1-150）
   - 手机号

4. **提交注册**
   - 点击"✅ 提交注册"按钮
   - 注册成功后，会自动返回登录界面

### 登录游戏

1. **输入账号信息**
   - 用户名
   - 密码

2. **点击"🚀 登录"按钮**
   - 或按回车键快速登录

3. **自动登录**
   - 登录成功后，下次访问会自动登录
   - 除非手动点击"退出登录"

### 退出登录

- 点击右上角的"🚪 退出登录"按钮
- 退出后需重新登录才能进入游戏

---

## ⚙️ 用户设置

### 打开用户设置

1. 点击左上角的"⚙️ 用户设置"按钮
2. 设置面板会弹出

### 可修改的信息

#### 基本信息
- **用户名**：只读，不可修改
- **修改密码**：
  - 输入新密码（留空则不修改）
  - 确认新密码（必须一致）
  - 密码至少6个字符

#### 个人资料
- **国家**：下拉选择
- **地区/城市**：自由输入
- **性别**：男/女/保密
- **年龄**：数字输入（1-150）
- **手机号**：文本输入

### 保存设置

1. 修改完成后，点击"💾 保存设置"按钮
2. 系统会验证输入（特别是密码）
3. 保存成功后会显示提示
4. 点击"❌ 取消"可以关闭设置面板而不保存

### 注意事项
- ⚠️ 用户名一旦注册就无法修改
- ⚠️ 修改密码时，两次输入必须一致
- ⚠️ 所有修改会立即同步到云端（Supabase）

---

## 👑 超级管理员功能

### 超级管理员账号

```
账号：DDKJ
密码：DDKJ88888888
```

### 登录后的权限

1. **可见按钮**
   - ⚙️ 用户设置（普通功能）
   - 🔧 管理员设置（超级管理员专属）
   - 🚪 退出登录

2. **管理员设置面板**
   - 点击"🔧 管理员设置"按钮直接进入（无需二次验证）
   - 包含三个标签页：
     - 🎮 游戏参数
     - 💳 支付设置
     - 🎯 广告管理

### 游戏参数设置

可以控制：
- 金币出现概率、最大数量、存活时间
- 钻石出现间隔、数量、最大数量
- 障碍物（鸟、雷云）出现概率、最大数量
- 加血包出现间隔、数量、存活时间

### 支付设置

- 上传支付宝收款码
- 上传微信支付收款码
- 设置Visa卡信息
- 设置Mastercard卡信息

### 广告管理

- 添加背景广告气球
- 设置广告链接和透明度
- 删除现有广告

### 普通用户

- ❌ **看不到**"管理员设置"按钮
- ✅ **只能看到**"用户设置"按钮

---

## 🎵 背景音乐控制

### 自动播放

- 登录成功后，系统会尝试自动播放背景音乐
- 如果浏览器阻止自动播放，按钮会显示为🔇

### 手动控制

- **位置**：右下角的圆形按钮
- **图标**：
  - 🔊 = 音乐正在播放
  - 🔇 = 音乐已静音

### 播放/暂停

- 点击音乐控制按钮即可切换
- 音乐会循环播放

### 音量

- 默认音量：30%（防止太吵）
- 如需调整，需要修改代码中的`bgMusic.volume`值

### 背景音乐说明

- 🎼 **音乐**：超级玛丽主题曲
- 📦 **来源**：CDN加载（需联网）
- ⚠️ **备用**：如果CDN失败，会尝试加载本地文件`./assets/super-mario-theme.mp3`

### 如果没有声音

1. 检查浏览器是否允许自动播放
2. 手动点击音乐控制按钮
3. 检查系统音量是否开启
4. 检查网络连接（音乐文件从CDN加载）

---

## 🎮 游戏玩法

### 基本操作

1. **移动气球**
   - 点击屏幕任意位置
   - 气球会平滑飞向点击位置

2. **收集道具**
   - **金币**：增加金币数量
   - **钻石**：增加钻石积分
   - **加血包**：恢复20点生命值

3. **躲避障碍**
   - **小鸟**：碰到减少5点生命值
   - **闪电云**：碰到减少10点生命值

### 生命系统

- **初始生命值**：100
- **生命值为0**：游戏结束，弹出复活界面
- **复活方式**：
  - 消耗100钻石
  - 或充值0.1元

### 积分系统

- **金币**：100个金币 = 1钻石
- **钻石**：游戏积分，用于复活和兑换
- **充值比例**：1元 = 1000钻石

### 多人同步

- 实时看到其他玩家的气球
- 每个气球上方显示玩家名字
- 气球之间会发生物理碰撞

### 界面显示

- **左上角**：
  - ⚙️ 用户设置按钮
  - 🔧 管理员设置按钮（仅超级管理员）
- **右上角**：
  - 💰 充值按钮
  - 🚪 退出登录按钮
- **右下角**：
  - 🔊 音乐控制按钮
- **底部中央**：
  - "点击屏幕飞行 | 多人实时同步"提示

---

## ❓ 常见问题

### Q1：忘记密码怎么办？
**A：** 目前版本没有找回密码功能，可以：
1. 使用其他邮箱注册新账号
2. 联系管理员重置密码

### Q2：用户名可以修改吗？
**A：** 不可以。用户名是唯一标识，注册后无法修改。如需更换，请注册新账号。

### Q3：为什么看不到"管理员设置"按钮？
**A：** 只有超级管理员（账号：DDKJ）才能看到此按钮。普通用户无权限访问。

### Q4：背景音乐无法播放？
**A：** 可能原因：
1. 浏览器阻止了自动播放 → 手动点击音乐按钮
2. 网络连接问题 → 检查网络
3. 浏览器不支持 → 更换浏览器（推荐Chrome）

### Q5：充值后钻石没有增加？
**A：** 当前版本的支付是模拟的，实际不会扣款。真实支付需要集成正规支付平台API。

### Q6：如何与其他玩家互动？
**A：** 
- 可以看到其他玩家的气球实时移动
- 气球之间会发生碰撞
- 暂时没有聊天功能

### Q7：游戏数据会丢失吗？
**A：** 不会。所有数据（钻石、金币、个人信息）都保存在Supabase云端数据库，换设备登录也能同步。

### Q8：如何成为管理员？
**A：** 只有预设的超级管理员账号（DDKJ）拥有管理权限。普通用户无法升级为管理员。

### Q9：广告气球是什么？
**A：** 管理员可以在游戏背景中添加广告图片，悬浮在天空中，不影响游戏进行。

### Q10：手机上玩卡顿怎么办？
**A：** 
1. 关闭其他后台应用
2. 减少浏览器标签页
3. 使用性能更好的设备

---

## 🔒 安全提示

⚠️ **重要**：
1. 密码使用明文存储（仅供学习演示）
2. 生产环境应使用加密存储
3. 不要使用重要账号的密码注册
4. 支付功能为模拟演示，不会真实扣款

---

## 📞 技术支持

- **GitHub仓库**：https://github.com/terminusys/MyBalloonGame
- **在线演示**：https://my-balloon-game.vercel.app/
- **问题反馈**：在GitHub上提Issue

---

## 📝 版本历史

### v3.1.0 (2026-02-12)
- ✨ 新增用户设置功能
- 👑 实现超级管理员权限系统
- 🎵 添加背景音乐（超级玛丽主题）
- 🔧 优化用户体验

### v3.0.0 (2026-02-11)
- 👤 实现用户注册和登录系统
- 💾 用户数据云端同步

### v2.1.0 (2026-02-10)
- 🌐 全局配置系统上线
- 📊 管理员设置持久化

### v2.0.5 (2026-02-09)
- 🩹 修复加血包碰撞检测
- 💥 添加玩家碰撞功能

### v1.0.0 (2026-02-01)
- 🎈 游戏首次发布

---

**祝你游戏愉快！** 🎮✨
