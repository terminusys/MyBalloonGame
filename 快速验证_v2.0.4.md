# ✅ 快速验证清单 - v2.0.4

## 等待1-2分钟后，请按以下步骤验证：

---

## 验证1：支付码显示 💰

### 步骤
1. ⚙️ 打开"管理员设置"
2. 📱 切换到"支付设置"标签
3. 📸 上传支付宝收款码（任意图片）
4. 📸 上传微信收款码（任意图片）
5. ❌ 关闭管理员面板
6. 💰 点击"充值"按钮
7. ✅ **检查**：是否看到支付宝收款码？
8. 🔄 切换到"微信支付"
9. ✅ **检查**：是否看到微信收款码？

### 预期结果
- ✅ 打开充值弹窗立即显示收款码
- ✅ 切换支付方式时收款码正确更新
- ❌ 不再显示"请管理员先设置收款码"

---

## 验证2：游戏配置共享 🎮

### 步骤A：管理员设置
1. ⚙️ 打开"管理员设置"（账号：DDKJ，密码：DDKJ88888888）
2. 🎮 切换到"游戏参数"标签
3. 🪙 修改"金币最大数量"为**10**
4. ⚡ 修改"障碍物最大数量"为**8**
5. 💾 点击"保存参数"
6. ✅ **检查**：是否提示"所有使用此浏览器的玩家都将使用这些配置"？

### 步骤B：验证生效
1. 🎈 开始游戏，飞行一段时间
2. 👁️ 观察屏幕
3. ✅ **检查**：金币是否不超过10个？
4. ✅ **检查**：障碍物是否不超过8个？

### 步骤C：其他玩家验证（可选）
1. 🚪 点击右上角"退出登录"
2. 📝 重新输入新名字登录
3. ✅ **检查**：游戏是否仍使用刚才的配置（金币10个，障碍物8个）？

---

## 验证3：元素数量管理 🔄

### 测试金币（默认15个）
1. ⚙️ 打开管理员设置 → 游戏参数
2. 🪙 查看"金币最大数量"，应该默认是**15**
3. 🎈 开始游戏
4. ⏱️ 等待一段时间，让金币生成到15个
5. 🔎 按`F12`打开Console
6. 👁️ 观察Console日志
7. ✅ **检查**：是否看到"🗑️ 删除旧金币，为新金币腾出空间"？
8. ✅ **检查**：屏幕上金币数量是否始终不超过15个？

### 测试障碍物（默认6个）
1. ⚙️ 查看"障碍物最大数量"，应该默认是**6**
2. 🎈 游戏中观察障碍物
3. 👁️ 观察Console日志
4. ✅ **检查**：是否看到"🗑️ 删除旧障碍物，为新障碍物腾出空间"？
5. ✅ **检查**：障碍物数量（闪电云+小鸟）是否不超过6个？

### 测试钻石道具（默认5个）
1. ⚙️ 查看"钻石道具最大数量"，应该默认是**5**
2. ⏱️ 等待100秒（游戏会生成5个钻石）
3. ⏱️ 再等100秒（会再次尝试生成5个钻石）
4. 👁️ 观察Console日志
5. ✅ **检查**：是否看到"🗑️ 删除旧钻石道具，为新钻石腾出空间"？
6. ✅ **检查**：钻石道具数量是否始终不超过5个？

---

## 验证4：新增配置项 ⚙️

### 检查钻石道具最大数量
1. ⚙️ 打开管理员设置 → 游戏参数
2. 📜 向下滚动到"💎 钻石道具参数"部分
3. ✅ **检查**：是否有"最大数量"输入框？
4. ✅ **检查**：默认值是否为5？
5. 🔧 尝试修改为3
6. 💾 保存参数
7. ⏱️ 游戏中等待钻石生成
8. ✅ **检查**：钻石道具数量是否不超过3个？

---

## 验证5：恢复默认值 🔄

### 测试恢复功能
1. ⚙️ 打开管理员设置 → 游戏参数
2. 🔧 随意修改几个参数
3. 🔄 点击"恢复默认"按钮
4. ✅ **检查**：是否弹出提示"新的默认值：🪙 金币最多15个，💎 钻石道具最多5个，⚡ 障碍物最多6个"？
5. ✅ **检查**：参数是否恢复为：
   - 金币最大数量：15
   - 钻石道具最大数量：5
   - 障碍物最大数量：6
   - 障碍物生成概率：0.005

---

## 快速测试（仅验证核心功能）

如果时间有限，只需测试这3项：

### ✅ 测试1：支付码显示
- 上传收款码 → 点击充值 → 看到收款码 ✅

### ✅ 测试2：金币数量限制
- 打开Console → 观察金币不超过15个 ✅

### ✅ 测试3：障碍物数量限制
- 观察障碍物不超过6个 ✅

---

## 常见问题

### Q1：看不到更新？
**A：** 强制刷新页面
- Windows: `Ctrl + F5`
- Mac: `Cmd + Shift + R`

### Q2：支付码还是不显示？
**A：** 
1. 检查是否正确上传了图片
2. 关闭管理员面板后再打开充值弹窗
3. 按F12查看Console是否有错误

### Q3：元素数量没有被限制？
**A：**
1. 打开管理员设置，确认最大数量已保存
2. 等待一段时间让元素自然生成到上限
3. 查看Console日志确认删除旧元素的日志

### Q4：修改参数后没生效？
**A：**
1. 确认点击了"保存参数"按钮
2. 参数会在下次生成元素时生效（不是立即）
3. 等待元素自然生成或被删除

---

## 开发者信息

- **版本**: v2.0.4
- **更新时间**: 2026-02-12
- **Git Commit**: `5f381fb`
- **详细说明**: 见《功能优化说明_v2.0.4.md》

---

**祝测试顺利！如有任何问题，请提供Console截图和详细步骤！** 🎉
