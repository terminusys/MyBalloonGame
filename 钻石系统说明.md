# 💎 钻石系统使用说明

## ✅ 已实现功能

### 1️⃣ 钻石获取途径

#### 💰 充值获取
- **兑换比例**：0.1元 = 100💎钻石
- **说明**：通过支付宝/微信/Visa/Mastercard充值

#### 🪙 金币兑换
- **兑换比例**：100🪙金币 = 1💎钻石
- **自动兑换**：每收集100个金币，自动兑换成1钻石
- **提示显示**：屏幕中央会显示"💎 兑换 +X 钻石!"

#### 💎 收集钻石道具
- **生成规则**：每100秒随机生成5个蓝色钻石道具
- **每个价值**：+10💎钻石
- **视觉效果**：蓝色钻形宝石，旋转+浮动+闪烁动画

---

### 2️⃣ 钻石使用途径

#### 💀 复活
- **消耗**：100💎钻石
- **效果**：立即复活，生命值恢复100

---

### 3️⃣ 显示位置

```
┌─────────────────────────────────┐
│ 🪙 470  ❤️ 85/100  💎 125       │
│                                 │
│ 左上角第三行显示钻石数量         │
└─────────────────────────────────┘
```

---

## 🎮 完整游戏流程

### 钻石累计示例：

```
起始：💎 0

收集金币 x50 → 累计50金币
收集金币 x50 → 累计100金币
           ↓
    自动兑换 → 💎 1

继续收集100金币 → 💎 2

收集钻石道具 → 💎 12 (+10)

充值0.1元 → 💎 112 (+100)

使用钻石复活 → 💎 12 (-100)
```

---

## 📊 数值设计

| 获取方式 | 数量 | 难度 | 时间成本 |
|---------|------|------|---------|
| 收集1个金币 | 0.01💎 | ⭐ | ~2秒 |
| 收集100金币 | 1💎 | ⭐⭐⭐ | ~200秒 |
| 收集钻石道具 | 10💎 | ⭐⭐ | 100秒/批 |
| 充值0.1元 | 100💎 | 💰 | 即时 |

**结论**：
- 免费玩家每小时约可获得：30-50💎
- 复活成本100💎，约需2小时游戏时间
- 建议充值快速复活，继续游戏

---

## 🎨 钻石道具视觉

```
   /\
  /  \
 /____\     蓝色钻形
/      \    旋转动画
\______/    上下浮动
  \  /      闪烁发光
   \/
```

**特点**：
- 💙 青蓝色（#00FFFF）
- ✨ 白色高光
- 🔄 360度旋转
- ↕️ 上下浮动20像素
- 💫 透明度闪烁（0.6-1.0）

---

## 💾 数据持久化

所有钻石数据保存在浏览器本地：

```javascript
localStorage.setItem('gameDiamonds', gameDiamonds);
localStorage.setItem('totalCoinsCollected', totalCoinsCollected);
```

**优势**：
- ✅ 关闭浏览器后不丢失
- ✅ 跨会话保持
- ✅ 无需后端服务器

**注意**：
- ⚠️ 清除浏览器数据会丢失钻石
- ⚠️ 可被本地修改（建议生产环境使用服务器存储）

---

## 🧮 经济平衡性

### 场景1：免费玩家
```
每小时收集约300金币 → 3💎
每小时收集约3批钻石道具 → 30💎
总计：33💎/小时

复活成本：100💎
需要游戏时间：约3小时
```

### 场景2：小额充值玩家
```
充值0.1元 → 100💎 → 可复活1次
充值1元 → 1000💎 → 可复活10次
```

### 场景3：混合玩家
```
游戏1小时 → 33💎
充值0.1元 → +100💎
总计：133💎 → 够1次复活+余33💎
```

---

## 🆚 对比原系统

| 项目 | 旧系统（游戏分） | 新系统（钻石） |
|------|----------------|---------------|
| 名称 | 💎 游戏分 | 💎 钻石 |
| 获取途径 | 仅金币直接 | 金币兑换+道具+充值 |
| 显示 | "💎 X分" | "💎 X" |
| 兑换 | 1金币=1分 | 100金币=1💎 |
| 道具 | 无 | 蓝色钻石道具 |
| 趣味性 | ⭐⭐ | ⭐⭐⭐⭐⭐ |

---

## 🎯 下一步计划

### 即将完成：
- [  ] 创建统一的管理员设置面板
- [  ] 合并广告位设置到管理员面板
- [  ] 添加游戏元素生成参数设置（金币、钻石、障碍物等）
- [  ] 优化支付码图片上传和显示

### 管理员设置将包含：
1. **游戏参数设置**
   - 金币生成速度、数量
   - 钻石道具生成间隔、数量
   - 障碍物生成参数
   - 加血包生成参数

2. **支付设置**
   - 支付宝收款码
   - 微信收款码
   - Visa/Mastercard收款信息

3. **广告位设置**
   - 添加/删除广告气球
   - 设置广告词和图片
   - 调整位置和透明度

---

## 🚀 测试清单

请在游戏中测试以下功能：

### 基础功能
- [ ] 左上角显示💎钻石数量
- [ ] 收集金币后累计显示
- [ ] 收集100金币自动兑换1钻石
- [ ] 屏幕显示"💎 兑换 +1 钻石!"提示

### 钻石道具
- [ ] 等待100秒后出现5个蓝色钻石
- [ ] 钻石有旋转+浮动+闪烁效果
- [ ] 碰到钻石后+10钻石
- [ ] 显示"+10 💎"浮动文字

### 充值系统
- [ ] 充值0.1元获得100钻石
- [ ] 充值1元获得1000钻石
- [ ] 充值界面显示"1元=1000💎钻石"

### 复活系统
- [ ] 死亡后显示"消耗100钻石复活"
- [ ] 钻石<100时按钮禁用
- [ ] 钻石≥100时可复活
- [ ] 复活后钻石-100

### 数据持久化
- [ ] 刷新页面后钻石数量保持
- [ ] 累计金币数保持
- [ ] 重新打开浏览器后数据仍在

---

## 💡 给玩家的建议

1. **优先收集钻石道具**：每个+10钻石，效率高
2. **积累100金币**：自动兑换1钻石
3. **保持100钻石余额**：以备不时之需
4. **小额充值划算**：0.1元=100钻石，可复活1次
5. **观察钻石生成时间**：每100秒，注意收集

---

## 🎊 功能特点总结

✅ **多样化获取**：金币兑换+道具收集+充值购买  
✅ **自动兑换**：100金币自动兑换，无需手动  
✅ **视觉精美**：蓝色钻石，多重动画效果  
✅ **经济平衡**：免费可玩，充值便捷  
✅ **数据安全**：本地持久化存储  

钻石系统让游戏更有趣、更有深度！💎✨
