# 🎮 气球飞行游戏 - 完整功能列表

## 📌 项目信息

- **项目名称**: MyBalloonGame
- **在线地址**: https://your-vercel-app.vercel.app
- **GitHub仓库**: https://github.com/terminusys/MyBalloonGame
- **开发时间**: 2026年2月

---

## 🎯 核心功能

### 1. 基础游戏玩法

#### 🎈 热气球控制
- **外观**: 手绘像素风热气球，红白相间条纹，带有吊篮
- **移动方式**: 点击屏幕任意位置，气球平滑飞过去
- **动画效果**:
  - 呼吸式浮动效果
  - 根据飞行方向的倾斜动画
  - 平滑的惯性移动

#### 🌤️ 游戏场景
- **背景**: 动态分层蓝天
- **云朵**: 缓慢横向移动的白云
- **层级系统**: 
  - 背景 (depth: -1)
  - 广告气球 (depth: 0-99)
  - 游戏元素 (depth: 100)
  - 玩家 (depth: 1000)

---

### 2. 多人在线系统

#### 👥 实时同步（Supabase Realtime）
- **玩家显示**: 每个玩家显示不同的气球
- **名称标签**: 气球上方显示玩家名称
- **位置同步**: 实时更新所有玩家位置
- **智能清理**: 自动清理离线玩家

#### 🏷️ 玩家身份
- **自定义名称**: 首次进入设置玩家名称
- **名称修改**: 点击左上角"更改名字"按钮
- **本地存储**: 名称保存在浏览器

---

### 3. 游戏经济系统

#### 🪙 金币系统
- **生成**: 随机位置自动生成
- **收集**: 碰撞自动收集
- **积分**: 每个金币 +10 分
- **消失**: 12秒后自动消失（最后2秒闪烁提醒）
- **上限**: 屏幕最多同时存在20个金币
- **可配置**: 管理员可调整生成速度、数量、存在时间

#### 💎 钻石系统（游戏积分）
- **获取方式**:
  1. 金币兑换：100 🪙 = 1 💎
  2. 钻石道具：每个 +10 💎
  3. 充值获得：1元 = 1000 💎
- **用途**:
  1. 复活：100 💎 可复活一次
  2. 游戏货币：用于各种游戏功能
- **生成**: 每100秒随机生成5个钻石道具
- **可配置**: 管理员可调整生成间隔和数量

#### 📊 积分榜
- **实时更新**: 显示当前金币和钻石数量
- **位置**: 屏幕左上角

---

### 4. 生命值与战斗系统

#### ❤️ 生命值系统
- **初始生命**: 100 HP
- **显示**: 屏幕右上角红色爱心
- **实时更新**: 碰撞后立即更新

#### ⚡ 障碍物系统
- **闪电云** ☁️⚡
  - 伤害：-10 HP
  - 外观：灰色云朵 + 黄色闪电
  
- **小鸟** 🐦
  - 伤害：-5 HP
  - 外观：蓝色小鸟
  
- **生成**: 随机位置从右向左移动
- **可配置**: 管理员可调整生成概率和数量

#### 💊 加血包系统
- **治疗**: +20 HP（最大100）
- **外观**: 白色十字医疗包
- **生成**: 每100秒随机生成2个
- **可配置**: 管理员可调整生成间隔

---

### 5. 死亡与复活系统

#### 💀 死亡机制
- **触发**: 生命值 ≤ 0
- **效果**: 弹出死亡弹窗，游戏暂停

#### 🔄 复活方式
1. **钻石复活**:
   - 消耗 100 💎
   - 立即复活，生命值恢复到 100
   
2. **充值复活**:
   - 充值 0.1元
   - 获得 100 💎
   - 自动复活

---

### 6. 充值系统

#### 💰 充值比例
- **人民币**: 1元 = 1000 💎
- **最低充值**: 0.1元 = 100 💎

#### 💳 支付方式

##### 1. 支付宝支付 📱
- **流程**: 选择支付宝 → 确认充值 → 扫码支付
- **管理员设置**: 上传收款码图片
- **用户体验**: 弹出收款码，用户扫码支付

##### 2. 微信支付 💚
- **流程**: 选择微信 → 确认充值 → 扫码支付
- **管理员设置**: 上传收款码图片
- **用户体验**: 弹出收款码，用户扫码支付

##### 3. Visa支付 💳
- **流程**: 选择Visa → 输入卡号等信息 → 确认支付
- **管理员设置**: 配置收款账户信息
- **演示模式**: ⚠️ 需接入真实支付网关（Stripe）

##### 4. Mastercard支付 💳
- **流程**: 选择Mastercard → 输入卡号 → 确认支付
- **管理员设置**: 配置收款账户信息
- **演示模式**: ⚠️ 需接入真实支付网关

---

### 7. 管理员系统

#### 🔐 管理员登录
- **账号**: `DDKJ`
- **密码**: `DDKJ88888888`
- **入口**: 左上角"⚙️ 管理员设置"按钮

#### ⚙️ 管理员设置中心

##### 标签1: 🎮 游戏参数
- **金币参数**:
  - 生成概率（每帧）：0.001-0.1
  - 最大数量：5-50个
  - 存在时间：5000-30000毫秒
  
- **钻石道具参数**:
  - 生成间隔：30000-300000毫秒
  - 每次生成数量：1-10个
  
- **障碍物参数**:
  - 生成概率（每帧）：0.001-0.05
  - 最大数量：1-15个
  
- **加血包参数**:
  - 生成间隔：30000-300000毫秒

- **功能按钮**:
  - 保存参数
  - 恢复默认

##### 标签2: 💳 支付设置
- **支付宝**:
  - 上传收款码图片
  - 图片预览
  
- **微信**:
  - 上传收款码图片
  - 图片预览
  
- **Visa**:
  - 收款账户名
  - 收款卡号（后4位）
  
- **Mastercard**:
  - 收款账户名
  - 收款卡号（后4位）

##### 标签3: 🎯 广告管理
- **添加广告气球**:
  - 输入广告词
  - 上传广告图片（可选）
  - 设置位置（X: 0-800, Y: 0-600）
  - 设置透明度（0-1）
  
- **管理现有广告**:
  - 查看所有广告气球
  - 删除不需要的广告

---

### 8. 广告系统

#### 🎯 背景广告气球
- **类型**:
  1. 纯文字广告
  2. 图文广告（图片 + 文字）
  
- **特性**:
  - 可自定义位置
  - 可调整透明度（0-1）
  - 图片保持原始比例
  - 不影响游戏玩法（玩家始终在广告之上）
  
- **层级**: depth 0-99（在背景之上，玩家之下）

---

## 🔧 技术特性

### 前端技术
- **游戏引擎**: Phaser.js 3
- **UI 框架**: 原生 HTML/CSS/JavaScript
- **图形绘制**: Phaser Graphics API
- **动画**: Phaser Tweens

### 后端服务
- **数据库**: Supabase PostgreSQL
- **实时通信**: Supabase Realtime
- **数据表**: `balloon_positions`

### 数据存储
- **本地存储** (localStorage):
  - 玩家名称 (`playerName`)
  - 游戏钻石 (`gameDiamonds`)
  - 游戏设置 (`gameSettings`)
  - 支付设置 (`paymentSettings`)
  - 广告气球 (`adBalloons`)

### 响应式设计
- **桌面端**: 800x600 游戏窗口
- **移动端**: 自适应缩放，居中显示
- **缩放模式**: Phaser.Scale.FIT

---

## 📱 用户界面

### 主界面元素
- **左上角**:
  - 👤 更改名字按钮
  - ⚙️ 管理员设置按钮
  - 💰 充值按钮
  
- **右上角**:
  - 🪙 金币数量
  - 💎 钻石数量
  - ❤️ 生命值
  
- **底部中央**:
  - "点击屏幕飞行 | 多人实时同步"提示文字

### 弹窗系统
- **欢迎弹窗**: 首次进入，输入玩家名称
- **充值弹窗**: 选择支付方式，确认充值
- **支付码弹窗**: 显示支付宝/微信收款码
- **卡支付弹窗**: Visa/Mastercard 输入表单
- **死亡弹窗**: 选择复活方式
- **管理员面板**: 三标签页设置中心

---

## 🎨 视觉设计

### 色彩方案
- **主色调**: 蓝色天空（#87CEEB）
- **辅助色**: 金色（#FFD700）、红色（#FF6347）
- **强调色**: 紫色渐变（#667eea → #764ba2）

### 动画效果
- **气球呼吸**: 0.95-1.0 缩放循环
- **气球倾斜**: ±5度旋转
- **金币闪烁**: 消失前2秒透明度闪烁
- **云朵移动**: 缓慢横向漂移

### UI 风格
- **半透明卡片**: 现代毛玻璃效果
- **渐变按钮**: 彩色渐变 + 阴影
- **圆角设计**: 10-15px 圆角
- **流畅过渡**: 0.3s transition

---

## 🔒 安全与隐私

### 数据安全
- **本地存储**: 所有设置保存在用户浏览器
- **不收集隐私**: 不收集用户个人信息
- **匿名游戏**: 仅使用自定义昵称

### 支付安全
- **支付宝/微信**: 收款码展示方式，无自动验证
- **Visa/Mastercard**: 演示模式，未接入真实支付网关
- **安全提示**: 明确告知用户支付限制

---

## 📊 游戏平衡性

### 默认参数
```
金币:
  - 生成概率: 0.02 (每帧)
  - 最大数量: 20个
  - 存在时间: 12000ms (12秒)
  - 积分: +10分/个

钻石道具:
  - 生成间隔: 100000ms (100秒)
  - 每次数量: 5个
  - 积分: +10钻石/个

障碍物:
  - 生成概率: 0.01 (每帧)
  - 最大数量: 5个
  - 闪电云: -10 HP
  - 小鸟: -5 HP

加血包:
  - 生成间隔: 100000ms (100秒)
  - 每次数量: 2个
  - 治疗: +20 HP

生命值:
  - 初始: 100 HP
  - 最大: 100 HP
  - 复活后: 100 HP
```

---

## 🚀 部署信息

### 托管平台
- **平台**: Vercel
- **自动部署**: 推送到 GitHub 自动触发
- **域名**: 自定义域名支持

### 版本控制
- **平台**: GitHub
- **仓库**: MyBalloonGame
- **分支**: main

---

## 📈 未来规划

### 可能的扩展功能
1. **社交功能**:
   - 好友系统
   - 聊天功能
   - 排行榜

2. **游戏玩法**:
   - 更多障碍物类型
   - 道具系统（加速、护盾）
   - 关卡系统

3. **经济系统**:
   - 皮肤商店
   - 会员系统
   - 成就系统

4. **技术优化**:
   - WebSocket 优化
   - 服务端验证
   - 反作弊系统

---

## 🐛 已知问题

### 限制
1. **支付系统**: 
   - 支付宝/微信为手动核验方式
   - Visa/Mastercard 为演示模式
   
2. **性能**: 
   - 大量玩家可能影响性能
   - 建议同时在线 < 50人

3. **兼容性**:
   - 需要现代浏览器（Chrome, Edge, Safari）
   - 不支持 IE11 及以下

---

## 📞 联系方式

- **GitHub**: https://github.com/terminusys/MyBalloonGame
- **问题反馈**: GitHub Issues
- **邮箱**: （待补充）

---

**最后更新**: 2026年2月12日  
**版本**: v2.0  
**开发者**: DDKJ Team
